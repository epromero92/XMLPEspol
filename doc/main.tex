% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode

% This is a simple template for a LaTeX document using the "article" class.
% See "book", "report", "letter" for other types of document.

\documentclass[12pt]{article} % use larger type; default would be 10pt

\usepackage[skip=20pt,hang]{caption}
\usepackage[utf8]{inputenc} % set input encoding (not needed with XeLaTeX)
\usepackage[spanish]{babel} %This command takes "babel" as an argument and "spanish" as an option.
\usepackage{listings}
\usepackage[T1]{fontenc}
\usepackage{float}
\usepackage{color}
\definecolor{bluekeywords}{rgb}{0.13,0.13,1}
\definecolor{greencomments}{rgb}{0,0.5,0}
\definecolor{redstrings}{rgb}{0.9,0,0}
%%% Examples of Article customizations
% These packages are optional, depending whether you want the features they provide.
% See the LaTeX Companion or other references for full information.

%%% PAGE DIMENSIONS
\usepackage[top=2.5cm, bottom=2.5cm, inner=2.5cm, outer=3.5cm]{geometry} % to change the page dimensions
\geometry{a4paper} % or letterpaper (US) or a5paper or....
% \geometry{margin=2in} % for example, change the margins to 2 inches all round
% \geometry{landscape} % set up the page for landscape
%   read geometry.pdf for detailed page layout information

\usepackage{graphicx} % PDFLaTeX

\DeclareGraphicsExtensions{.bmp,.png,.pdf,.jpg}
% \usepackage[parfill]{parskip} % Activate to begin paragraphs with an empty line rather than an indent

%%% PACKAGES

\usepackage{booktabs} % for much better looking tables
\usepackage{array} % for better arrays (eg matrices) in maths
%\usepackage{paralist} % very flexible & customisable lists (eg. enumerate/itemize, etc.)
%\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage{subfig} % make it possible to include more than one captioned figure/table in a single float
% These packages are all incorporated in the memoir class to one degree or another...
\usepackage{subfiles} %allows reference subfiles to make the document modular and flexible.
\usepackage{hyperref}%allows using hyperlinks.
%\usepackage[default]{cantarell} %% Use option "defaultsans" to use cantarell as sans serif only

%%% HEADERS & FOOTERS
\usepackage{fancyhdr} % This should be set AFTER setting up the page geometry
\pagestyle{plain} % options: empty , plain , fancy
\renewcommand{\headrulewidth}{0pt} % customise the layout...
\lhead{}\chead{}\rhead{}
\lfoot{}\cfoot{\thepage}\rfoot{}
\providecommand*{\lstnumberautorefname}{line} 


%%% SECTION TITLE APPEARANCE
\usepackage{sectsty}
\allsectionsfont{\sffamily\mdseries\upshape} % (See the fntguide.pdf for font help)
% (This matches ConTeXt defaults)

%%% ToC (table of contents) APPEARANCE
\usepackage[nottoc,notlof,notlot]{tocbibind} % Put the bibliography in the ToC
\usepackage[titles,subfigure]{tocloft} % Alter the style of the Table of Contents
\renewcommand{\cftsecfont}{\rmfamily\mdseries\upshape}
\renewcommand{\cftsecpagefont}{\rmfamily\mdseries\upshape} % No bold!

%%% END Article customizations


%%% definicion de colores personalizados

\definecolor{ColorPrincipal}{cmyk}{0,0.89,0.94,0.28} %este es el color BrickRed
\definecolor{ColorSecundario}{cmyk}{0,0.51,1,0} %este es el color BurntOrange
\definecolor{ColorTerciario}{cmyk}{0.40,0.80,0.20,0} %este es el color DarkOrchid

%%% Estilo del lstlisting
\usepackage{listings}
\lstset{language=[Sharp]C,
title=\lstname,
numbers=left,               % where to put the line-numbers
xleftmargin=1.41mm,
xrightmargin=-0.71mm,
belowskip=0.2em,
numbersep=1em,              % how far the line-numbers are from the code
aboveskip=1em,              % espacio por encima del listing (1 línea)
tabsize=4,                  % sets default tabsize to 2 spaces
captionpos=t,               % sets the caption-position to top
showspaces=false,
showtabs=false,
breaklines=true,
showstringspaces=false,
frameround=fttf,
breakatwhitespace=true,
escapeinside={(*@}{@*)},
commentstyle=\color{greencomments},
keywordstyle=\color{bluekeywords}\bfseries,
stringstyle=\color{redstrings},
frame=single,
basicstyle=\ttfamily
}

%%% Color del lstlisting
\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox[cmyk]{0.43, 0.35, 0.35,0.01}{\parbox{\textwidth}{\hspace{15pt}\begin{minipage}{0.95\linewidth}#1#2#3\end{minipage}}}} %el minipage me asegura que si el texto de un caption ocupa más de una línea las siguientes líneas quedarán alineadas con respecto a la primera el hspace de 15pt
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white, singlelinecheck=false, margin=0pt, font={bf,footnotesize}}
\addto\captionsspanish{\renewcommand*\lstlistingname{C\'odigo}}
\addto\captionsspanish{\renewcommand*\lstlistlistingname{\'Indice de c\'odigo}}

\usepackage{chngcntr} % Sirve para numerar figuras, tablas, etc según numSección.númElemento http://www.physicsforums.com/showthread.php?t=290236
\counterwithin{figure}{section}
\AtBeginDocument{\counterwithin{lstlisting}{section}} 

\renewcommand{\captionfont}{\color{ColorSecundario}}
\renewcommand{\captionlabelfont}{\bf}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white, singlelinecheck=false, margin=0pt, font={bf,footnotesize}}


%%%

\usepackage{chngcntr} % Sirve para numerar figuras, tablas, etc según numSección.númElemento http://www.physicsforums.com/showthread.php?t=290236
\counterwithin{figure}{section}
\AtBeginDocument{\counterwithin{lstlisting}{section}} 

\renewcommand{\captionfont}{\color{ColorSecundario}}
\renewcommand{\captionlabelfont}{\bf}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white, singlelinecheck=false, margin=0pt, font={bf,footnotesize}}


%%%
\usepackage{chngcntr} % Sirve para numerar figuras, tablas, etc según numSección.númElemento http://www.physicsforums.com/showthread.php?t=290236
\counterwithin{figure}{section}
\AtBeginDocument{\counterwithin{lstlisting}{section}} 

\renewcommand{\captionfont}{\color{ColorSecundario}}
\renewcommand{\captionlabelfont}{\bf}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white, singlelinecheck=false, margin=0pt, font={bf,footnotesize}}

%%%
\usepackage{listings}

%%% Wallpaper
\usepackage{graphicx} \usepackage{eso-pic}
\newcommand\BackgroundPic{ \put(0,0){ \parbox[b][\paperheight]{\paperwidth}{ \vfill \centering \includegraphics[width=\paperwidth,height=\paperheight,keepaspectratio]{./images/wallpaper.png} \vfill }}} 
%%% The "real" document content comes below...
\title{\textcolor{white}{Documentación del 2do Proyecto del 2do Parcial: Parser para XML}}
\author{\textcolor{white}{Efrén Romero}}

\date{} % Activate to display a given date or no date (if empty),
         % otherwise the current date is printed 

\begin{document}
\AddToShipoutPicture*{\BackgroundPic}
\ClearShipoutPicture
\maketitle

%\tableofcontents % No hace falta un TOC en un artículo corto
\clearpage

\subfile{./tex/description}
\subfile{./tex/scope}
\subfile{./tex/experience}

\end{document}